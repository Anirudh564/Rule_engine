{% extends "base.html" %}

{% block title %}Combine Rules{% endblock %}

{% block extra_css %}
<style>
    .combine-form {
        max-width: 800px;
        margin: 2rem auto;
        padding: 2rem;
        background: #f9f9f9;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .rules-container {
        margin: 1rem 0;
    }

    .rule-input {
        width: 100%;
        margin-bottom: 1rem;
        padding: 0.5rem;
    }

    .rule-controls {
        margin: 1rem 0;
        display: flex;
        gap: 1rem;
    }

    .visualization {
        margin-top: 2rem;
        padding: 1rem;
        border: 1px solid #ddd;
        border-radius: 4px;
    }

    .operator-select {
        margin: 1rem 0;
        padding: 0.5rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="combine-form">
    <h2>Combine Rules</h2>
    
    <form id="combine-form">
        <div id="rules-container" class="rules-container">
            <div class="rule-entry">
                <input type="text" class="rule-input" placeholder="Enter rule...">
            </div>
        </div>

        <div class="rule-controls">
            <button type="button" id="add-rule" class="btn btn-secondary">Add Rule</button>
            <select id="operator-select" class="operator-select">
                <option value="AND">AND</option>
                <option value="OR">OR</option>
            </select>
        </div>

        <button type="submit" class="btn btn-primary">Combine Rules</button>
    </form>

    <div id="result"></div>
    
    <div id="visualization" class="visualization">
        <h3>Combined Rule Structure</h3>
        <div id="ast-visualization"></div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/combine.js') }}"></script>
{% endblock %}